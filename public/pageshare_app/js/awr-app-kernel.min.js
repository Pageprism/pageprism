!function(window,$){"use strict";window.awr=window.awr||{},window.awr.bootQueue=window.awr.bootQueue||[];var console=window.console;function $export(path,exp,opts){opts=opts||{takeEasy:!0,appExport:!0};let sta=window.awr.$static,q=window.awr.Q;return opts.appExport=!0,opts.takeEasy=!q.$booleanFalse(opts.takeEasy),sta.$export(path,exp,opts)}function __$require__(requires,obj){return window.awr.$static.$require(requires,obj)}function __onModuleBootTimeoutError__(err){window.console.error("initModule@APP@AWR: Failed to instantiate app module. \n\t + Details: Init process interrupted by timeout. \n\t + Hint: Required components were not ready  before maximum wait time."),window.console.error(err)}function __callModuleMainFn__(mainFn,requires){try{"function"==typeof mainFn&&(!function(requires){return window.awr.Q.$arrayNotEmpty(requires)||window.awr.Q.$objectExist(requires)}(requires)?mainFn.call(window.awr.Q):window.awr.Q.$commonWaitAndProceedOperation(requires,function(){mainFn.call(window.awr.Q)},3e3,__onModuleBootTimeoutError__))}catch(e){console.error(e)}}function __pushToBootQueue__(init){window.awr.bootQueue.push({moduleName:"basicAppModule@AWR",requires:["object:awr.$$appEssentials","object:awr.coreTemplate","object:awr.ux"],wTime:36e5,init:init,QAsContext:!0})}!function(){var __$$requires$$__=[];__pushToBootQueue__(function(){__$require__(__$$requires$$__,"config:routeConfig");let awr=window.awr||{};awr.Q;class Pageshare extends awr.App{static get $require(){return{appConfig:"config:app",router:"service:router"}}constructor(){super(Pageshare.$require,Pageshare.name),this.controller="App",this.router.$watch(),this.$start()}}$export(Pageshare),__callModuleMainFn__("function"==typeof $main?$main:null,__$$requires$$__)})}(),function(){var __$$requires$$__=[];__pushToBootQueue__(function(){let awr=window.awr||{},Q=awr.Q,time=0;class App extends awr.Config{static get $require(){return{router:"service:router",modal:"service:modal",remoteCnf:"config:remoteConnection"}}constructor(name){super(App.$require,name);let{router:router,modal:modal,remoteCnf:remoteCnf}=this,authSetting={onEnterBusyMode(msg){let now=(new Date).getTime();setTimeout(_=>{time=(new Date).getTime()+1e3,modal.$enter("smallNotifModal",{icon:"fas fa-circle-notch fa-spin",message:msg})},now<time?1e3:500)},onExitBusyMode(){let now=(new Date).getTime();setTimeout(_=>{modal.$exit()},now<time?2e3:1e3)}};remoteCnf.isDevPort?router.$config({mode:"hash",prefix:""}):router.$config({mode:"history",prefix:""}),Object.defineProperty(authSetting,"connectionConfig",{get(){return ref="config:remoteConnection",window.awr.$static.$import(ref);var ref}}),router.$enableAuthSession(authSetting),router.$authorize({routes:["bookmarks-view","my-publisher-view","tags-view","users-view","upload-doc-view","my-collections-view","invite-view","edit-view"],authorizer:["object:awr.superScope",function(superScope){return Q.$objectExist(superScope.currentUser)?Promise.resolve("Authorized"):Promise.reject("Not authorized")}],onReject(rejectedLink){setTimeout(_=>{router.$go("errors-view",{params:{code:"e2"},attrs:{}},!0)},100)}})}}$export(App),__callModuleMainFn__("function"==typeof $main?$main:null,__$$requires$$__)})}(),function(){var __$$requires$$__=[];__pushToBootQueue__(function(){var global;(global=window).emptyTpls=global.emptyTpls||0,global.emptyTpls++,__callModuleMainFn__("function"==typeof $main?$main:null,__$$requires$$__)})}()}(window,jQuery);